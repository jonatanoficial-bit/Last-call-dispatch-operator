<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Last Call: Dispatch Operator — Operação</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <link rel="stylesheet" href="css/reset.css" />
  <link rel="stylesheet" href="css/ui.css" />
</head>
<body class="game-screen state-calm">

  <div class="game-bg" aria-hidden="true"></div>

  <div class="overlay overlay-calm" aria-hidden="true"></div>
  <div class="overlay overlay-crisis" aria-hidden="true"></div>

  <header class="top-bar">
    <div id="careerLabel">Central: —</div>
    <div id="cityLabel">Cidade: —</div>
    <div id="rankLabel">Cargo: —</div>
    <div class="top-timers">
      <div class="timer-box">
        <div class="timer-label">Turno</div>
        <div id="shiftRemaining" class="timer-value">10:00</div>
      </div>
      <div class="timer-box">
        <div class="timer-label">Chamada</div>
        <div id="callRemaining" class="timer-value">01:30</div>
      </div>
    </div>
  </header>

  <main class="game-layout">

    <!-- FILA DE CHAMADAS -->
    <section class="panel left-panel">
      <div class="panel-header">
        <h2>Fila de Chamadas</h2>
        <div class="panel-sub">Selecione uma chamada para atender</div>
      </div>

      <div id="callsList" class="calls-list"></div>

      <div class="hint-box">
        <div class="hint-title">Regras</div>
        <div class="hint-text">
          • Despachar sem endereço = penalidade pesada.<br/>
          • Classificar errado = erro operacional.<br/>
          • Encerrar cedo em caso crítico = falha grave.<br/>
          • Stress alto aumenta falha cognitiva (resposta errada involuntária).
        </div>
      </div>
    </section>

    <!-- ATENDIMENTO / TRANSCRIÇÃO -->
    <section class="panel center-panel">
      <div class="panel-header">
        <h2>Atendimento Ativo</h2>
        <div class="panel-sub" id="activeCallTitle">Nenhuma chamada selecionada</div>
      </div>

      <div class="call-card">
        <div class="call-meta-row">
          <div class="call-chip" id="callerMood">Humor: —</div>
          <div class="call-chip" id="callType">Tipo: —</div>
          <div class="call-chip" id="callRisk">Risco: —</div>
        </div>

        <div class="transcript-wrap">
          <div class="transcript-title">Transcrição</div>
          <div id="transcript" class="transcript"></div>
          <div id="typeCursor" class="type-cursor">▌</div>
        </div>

        <div class="answers-wrap">
          <div class="answers-title">Dados coletados</div>
          <div class="answers-grid">
            <div class="answer-item"><span>Endereço</span><strong id="ansAddress">—</strong></div>
            <div class="answer-item"><span>Vítimas</span><strong id="ansVictims">—</strong></div>
            <div class="answer-item"><span>Arma / Fogo</span><strong id="ansWeaponFire">—</strong></div>
            <div class="answer-item"><span>Suspeito no local</span><strong id="ansSuspect">—</strong></div>
            <div class="answer-item"><span>Classificação</span><strong id="ansClass">—</strong></div>
          </div>
        </div>

        <div class="action-sections">

          <div class="action-block">
            <div class="action-title">Ações de Atendimento</div>
            <div class="action-grid">
              <button id="btnListen" class="btn">Ouvir relato</button>
              <button id="btnCalm" class="btn">Pedir calma</button>
              <button id="btnFocus" class="btn">Focar (interromper)</button>
              <button id="btnRepeat" class="btn">Pedir para repetir</button>
            </div>
          </div>

          <div class="action-block">
            <div class="action-title">Perguntas Técnicas</div>
            <div class="action-grid">
              <button id="btnAskAddress" class="btn">Endereço exato</button>
              <button id="btnAskVictims" class="btn">Há feridos?</button>
              <button id="btnAskWeaponFire" class="btn">Arma / fogo?</button>
              <button id="btnAskSuspect" class="btn">Suspeito no local?</button>
            </div>
          </div>

          <div class="action-block">
            <div class="action-title">Avaliação e Decisão</div>
            <div class="action-grid">
              <button id="btnClassLow" class="btn">Classificar: MÉDIA</button>
              <button id="btnClassHigh" class="btn">Classificar: ALTA</button>
              <button id="btnClassCritical" class="btn danger">Classificar: CRÍTICA</button>
              <button id="btnMarkPrank" class="btn">Marcar: TROTE</button>
            </div>
          </div>

          <div class="action-block">
            <div class="action-title">Ação Final</div>
            <div class="action-grid">
              <button id="btnDispatch" class="btn primary">Despachar unidade</button>
              <button id="btnTransfer" class="btn">Transferir (outro serviço)</button>
              <button id="btnClose" class="btn">Encerrar chamada</button>
              <button id="btnNext" class="btn">Próxima chamada</button>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- STATUS -->
    <section class="panel right-panel">
      <div class="panel-header">
        <h2>Status do Operador</h2>
        <div class="panel-sub">pontuação / penalidades</div>
      </div>

      <div class="stat-grid">
        <div class="stat-row"><span>Pontuação</span><strong id="score">0</strong></div>
        <div class="stat-row"><span>Erros</span><strong id="errors">0</strong></div>
        <div class="stat-row"><span>Stress</span><strong id="stress">0%</strong></div>
        <div class="stat-row"><span>Fadiga</span><strong id="fatigue">0%</strong></div>
        <div class="stat-row"><span>Unidades livres</span><strong id="freeUnits">4</strong></div>
        <div class="stat-row"><span>Chamadas pendentes</span><strong id="pendingCalls">0</strong></div>
      </div>

      <div class="danger-box" id="dangerBox">
        <div class="danger-title">Painel Operacional</div>
        <div class="danger-text" id="dangerText">Selecione uma chamada para iniciar.</div>
      </div>

      <button id="goRankingBtn" class="secondary-btn">VER RANKING</button>
    </section>

  </main>

  <script src="js/main.js"></script>
</body>
</html>
